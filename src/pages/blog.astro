---
import Layout from '@/layouts/Layout.astro'
import { getCollection } from 'astro:content'
import { Card } from '@/components/ui/card'
import GradientText from '@/components/animations/GradientText/GradientText'

const posts = await getCollection('blog')
---

<Layout content={{ title: "Blog" }}>
  <section class="max-w-3xl mx-auto mt-20 px-4 flex flex-col items-center">
<h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold">
      <GradientText
        client:load
        colors={["#40ffaa", "#4079ff", "#40ffaa", "#4079ff", "#40ffaa"]}
        animationSpeed={3}
        showBorder={false}
        className="leading-tight"
      >
        Blog 
      </GradientText>
    </h1>
    <div class="w-full flex flex-col gap-8">
      {posts.map((post) => (
        <Card key={post.slug}>
          <img src={post.data.avatar} alt={post.data.author} class="w-16 h-16 rounded-full border-2 border-accent" />
          <div class="flex-1">
            <a href={`/blog/${post.slug}`} class="text-2xl font-semibold text-primary  underline-hover">
              {post.data.title}
            </a>
            <p class="font-medium text-muted-foreground mt-2">{post.data.description}</p>
            <p class="text-sm text-muted-foreground mt-1">{new Date(post.data.date).toLocaleDateString()}</p>
          </div>
        </Card>
      ))}
    </div>
  </section>
</Layout>